<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title></title>
  </head>
  <body>
    <button type="button" name="button">Click</button>
  </body>
  <script>
    // let counter = 0
    //
    // document.querySelector('button').addEventListener('click', () => {
    //   ++counter
    // })
    //
    // setTimeout(() => {
    //   if(counter > 5) {
    //     alert('You won! Your clicks: ' + counter)
    //   } else {
    //     alert('You lost!!')
    //   }
    // }, 2000)

    function startGame () {
      let counter = 0

      document.querySelector('button').addEventListener('click', () => {
        ++counter
      })

      return new Promise ((resolve, reject) => {
        setTimeout(() => {
          if (counter > 5) {
            resolve()
          } else {
            reject()
          }
        }, 2000)
      })
    }

    startGame()
    .then(() => {
      alert('You win!')
    })
    .catch(() => {
      alert('You lost!')
    })

  </script>
</html>
